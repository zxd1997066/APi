<?xml version="1.0" encoding="utf-8"?><testsuites><testsuite name="pytest" errors="0" failures="2" skipped="0" tests="8" time="79.681" timestamp="2025-08-22T15:11:06.300280" hostname="dut7358"><testcase classname="test.distributed.checkpoint.test_checkpoint.TestDistributedCheckpointing" name="test_default_metadata" time="13.746" /><testcase classname="test.distributed.checkpoint.test_checkpoint.TestDistributedCheckpointing" name="test_tensor_metadata_with_missing_rank_spec" time="13.627" /><testcase classname="test.distributed.checkpoint.test_checkpoint.TestDistributedFailure" name="test_dummy_reader_works" time="15.635" /><testcase classname="test.distributed.checkpoint.test_checkpoint.TestDistributedFailure" name="test_dummy_writer_works" time="5.019"><failure message="RuntimeError: Process 3 exited with error code 10 and exception:&#10;Traceback (most recent call last):&#10;  File &quot;/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/testing/_internal/common_distributed.py&quot;, line 864, in run_test&#10;    getattr(self, test_name)()&#10;  File &quot;/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/testing/_internal/common_distributed.py&quot;, line 718, in wrapper&#10;    fn()&#10;  File &quot;/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/testing/_internal/common_utils.py&quot;, line 3226, in wrapper&#10;    method(*args, **kwargs)&#10;  File &quot;/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/testing/_internal/distributed/_shard/sharded_tensor/__init__.py&quot;, line 102, in wrapper&#10;    func(self, *args, **kwargs)&#10;  File &quot;/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/testing/_internal/common_distributed.py&quot;, line 221, in wrapper&#10;    return func(*args, **kwargs)&#10;  File &quot;/home/jenkins/actions-runner/_work/torch-xpu-ops/pytorch/test/distributed/checkpoint/test_checkpoint.py&quot;, line 253, in test_dummy_writer_works&#10;    save_state_dict(state_dict, FaultyStorageWriter({}))&#10;  File &quot;/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/typing_extensions.py&quot;, line 2956, in wrapper&#10;    return arg(*args, **kwargs)&#10;  File &quot;/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/distributed/checkpoint/state_dict_saver.py&quot;, line 75, in save_state_dict&#10;    return _save_state_dict(&#10;  File &quot;/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/distributed/checkpoint/state_dict_saver.py&quot;, line 456, in _save_state_dict&#10;    central_plan = distW.reduce_scatter(&quot;plan&quot;, local_step, global_step)&#10;  File &quot;/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/distributed/checkpoint/utils.py&quot;, line 217, in reduce_scatter&#10;    result = self.scatter_object(all_results)&#10;  File &quot;/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/distributed/checkpoint/utils.py&quot;, line 162, in scatter_object&#10;    dist.scatter_object_list(&#10;  File &quot;/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/distributed/c10d_logger.py&quot;, line 81, in wrapper&#10;    return func(*args, **kwargs)&#10;  File &quot;/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/distributed/distributed_c10d.py&quot;, line 3787, in scatter_object_list&#10;    scatter_object_output_list[0] = _tensor_to_object(&#10;  File &quot;/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/distributed/distributed_c10d.py&quot;, line 3092, in _tensor_to_object&#10;    return _unpickler(io.BytesIO(buf)).load()&#10;_pickle.UnpicklingError: pickle data was truncated&#10;&#10;To execute this test, run the following from the base repo dir:&#10;    PYTORCH_TEST_WITH_SLOW=1 python test/distributed/checkpoint/test_checkpoint.py TestDistributedFailure.test_dummy_writer_works&#10;&#10;This message can be suppressed by setting PYTORCH_PRINT_REPRO_ON_FAILURE=0">Traceback (most recent call last):
  File "/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/testing/_internal/common_distributed.py", line 716, in wrapper
    self._join_processes(fn)
  File "/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/testing/_internal/common_distributed.py", line 980, in _join_processes
    self._check_return_codes(fn, elapsed_time)
  File "/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/testing/_internal/common_distributed.py", line 1020, in _check_return_codes
    raise RuntimeError(error)
RuntimeError: Process 3 exited with error code 10 and exception:
Traceback (most recent call last):
  File "/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/testing/_internal/common_distributed.py", line 864, in run_test
    getattr(self, test_name)()
  File "/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/testing/_internal/common_distributed.py", line 718, in wrapper
    fn()
  File "/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/testing/_internal/common_utils.py", line 3226, in wrapper
    method(*args, **kwargs)
  File "/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/testing/_internal/distributed/_shard/sharded_tensor/__init__.py", line 102, in wrapper
    func(self, *args, **kwargs)
  File "/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/testing/_internal/common_distributed.py", line 221, in wrapper
    return func(*args, **kwargs)
  File "/home/jenkins/actions-runner/_work/torch-xpu-ops/pytorch/test/distributed/checkpoint/test_checkpoint.py", line 253, in test_dummy_writer_works
    save_state_dict(state_dict, FaultyStorageWriter({}))
  File "/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/typing_extensions.py", line 2956, in wrapper
    return arg(*args, **kwargs)
  File "/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/distributed/checkpoint/state_dict_saver.py", line 75, in save_state_dict
    return _save_state_dict(
  File "/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/distributed/checkpoint/state_dict_saver.py", line 456, in _save_state_dict
    central_plan = distW.reduce_scatter("plan", local_step, global_step)
  File "/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/distributed/checkpoint/utils.py", line 217, in reduce_scatter
    result = self.scatter_object(all_results)
  File "/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/distributed/checkpoint/utils.py", line 162, in scatter_object
    dist.scatter_object_list(
  File "/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/distributed/c10d_logger.py", line 81, in wrapper
    return func(*args, **kwargs)
  File "/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/distributed/distributed_c10d.py", line 3787, in scatter_object_list
    scatter_object_output_list[0] = _tensor_to_object(
  File "/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/distributed/distributed_c10d.py", line 3092, in _tensor_to_object
    return _unpickler(io.BytesIO(buf)).load()
_pickle.UnpicklingError: pickle data was truncated

To execute this test, run the following from the base repo dir:
    PYTORCH_TEST_WITH_SLOW=1 python test/distributed/checkpoint/test_checkpoint.py TestDistributedFailure.test_dummy_writer_works

This message can be suppressed by setting PYTORCH_PRINT_REPRO_ON_FAILURE=0</failure></testcase><testcase classname="test.distributed.checkpoint.test_checkpoint.TestDistributedFailure" name="test_load_error_handling" time="15.441" /><testcase classname="test.distributed.checkpoint.test_checkpoint.TestDistributedFailure" name="test_load_error_handling_no_dist" time="4.322" /><testcase classname="test.distributed.checkpoint.test_checkpoint.TestDistributedFailure" name="test_save_error_handling" time="5.225"><failure message="RuntimeError: Process 3 exited with error code 10 and exception:&#10;Traceback (most recent call last):&#10;  File &quot;/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/testing/_internal/common_distributed.py&quot;, line 864, in run_test&#10;    getattr(self, test_name)()&#10;  File &quot;/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/testing/_internal/common_distributed.py&quot;, line 718, in wrapper&#10;    fn()&#10;  File &quot;/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/testing/_internal/common_utils.py&quot;, line 3226, in wrapper&#10;    method(*args, **kwargs)&#10;  File &quot;/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/testing/_internal/distributed/_shard/sharded_tensor/__init__.py&quot;, line 102, in wrapper&#10;    func(self, *args, **kwargs)&#10;  File &quot;/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/testing/_internal/common_distributed.py&quot;, line 221, in wrapper&#10;    return func(*args, **kwargs)&#10;  File &quot;/home/jenkins/actions-runner/_work/torch-xpu-ops/pytorch/test/distributed/checkpoint/test_checkpoint.py&quot;, line 333, in test_save_error_handling&#10;    self._test_save(state_dict, fail_write_data=[2])&#10;  File &quot;/home/jenkins/actions-runner/_work/torch-xpu-ops/pytorch/test/distributed/checkpoint/test_checkpoint.py&quot;, line 302, in _test_save&#10;    self._test_dist_failure(_save, kwargs)&#10;  File &quot;/home/jenkins/actions-runner/_work/torch-xpu-ops/pytorch/test/distributed/checkpoint/test_checkpoint.py&quot;, line 276, in _test_dist_failure&#10;    callback()&#10;  File &quot;/home/jenkins/actions-runner/_work/torch-xpu-ops/pytorch/test/distributed/checkpoint/test_checkpoint.py&quot;, line 295, in _save&#10;    save_state_dict(&#10;  File &quot;/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/typing_extensions.py&quot;, line 2956, in wrapper&#10;    return arg(*args, **kwargs)&#10;  File &quot;/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/distributed/checkpoint/state_dict_saver.py&quot;, line 75, in save_state_dict&#10;    return _save_state_dict(&#10;  File &quot;/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/distributed/checkpoint/state_dict_saver.py&quot;, line 456, in _save_state_dict&#10;    central_plan = distW.reduce_scatter(&quot;plan&quot;, local_step, global_step)&#10;  File &quot;/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/distributed/checkpoint/utils.py&quot;, line 217, in reduce_scatter&#10;    result = self.scatter_object(all_results)&#10;  File &quot;/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/distributed/checkpoint/utils.py&quot;, line 162, in scatter_object&#10;    dist.scatter_object_list(&#10;  File &quot;/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/distributed/c10d_logger.py&quot;, line 81, in wrapper&#10;    return func(*args, **kwargs)&#10;  File &quot;/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/distributed/distributed_c10d.py&quot;, line 3787, in scatter_object_list&#10;    scatter_object_output_list[0] = _tensor_to_object(&#10;  File &quot;/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/distributed/distributed_c10d.py&quot;, line 3092, in _tensor_to_object&#10;    return _unpickler(io.BytesIO(buf)).load()&#10;_pickle.UnpicklingError: pickle data was truncated&#10;&#10;To execute this test, run the following from the base repo dir:&#10;    PYTORCH_TEST_WITH_SLOW=1 python test/distributed/checkpoint/test_checkpoint.py TestDistributedFailure.test_save_error_handling&#10;&#10;This message can be suppressed by setting PYTORCH_PRINT_REPRO_ON_FAILURE=0">Traceback (most recent call last):
  File "/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/testing/_internal/common_distributed.py", line 716, in wrapper
    self._join_processes(fn)
  File "/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/testing/_internal/common_distributed.py", line 980, in _join_processes
    self._check_return_codes(fn, elapsed_time)
  File "/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/testing/_internal/common_distributed.py", line 1020, in _check_return_codes
    raise RuntimeError(error)
RuntimeError: Process 3 exited with error code 10 and exception:
Traceback (most recent call last):
  File "/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/testing/_internal/common_distributed.py", line 864, in run_test
    getattr(self, test_name)()
  File "/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/testing/_internal/common_distributed.py", line 718, in wrapper
    fn()
  File "/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/testing/_internal/common_utils.py", line 3226, in wrapper
    method(*args, **kwargs)
  File "/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/testing/_internal/distributed/_shard/sharded_tensor/__init__.py", line 102, in wrapper
    func(self, *args, **kwargs)
  File "/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/testing/_internal/common_distributed.py", line 221, in wrapper
    return func(*args, **kwargs)
  File "/home/jenkins/actions-runner/_work/torch-xpu-ops/pytorch/test/distributed/checkpoint/test_checkpoint.py", line 333, in test_save_error_handling
    self._test_save(state_dict, fail_write_data=[2])
  File "/home/jenkins/actions-runner/_work/torch-xpu-ops/pytorch/test/distributed/checkpoint/test_checkpoint.py", line 302, in _test_save
    self._test_dist_failure(_save, kwargs)
  File "/home/jenkins/actions-runner/_work/torch-xpu-ops/pytorch/test/distributed/checkpoint/test_checkpoint.py", line 276, in _test_dist_failure
    callback()
  File "/home/jenkins/actions-runner/_work/torch-xpu-ops/pytorch/test/distributed/checkpoint/test_checkpoint.py", line 295, in _save
    save_state_dict(
  File "/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/typing_extensions.py", line 2956, in wrapper
    return arg(*args, **kwargs)
  File "/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/distributed/checkpoint/state_dict_saver.py", line 75, in save_state_dict
    return _save_state_dict(
  File "/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/distributed/checkpoint/state_dict_saver.py", line 456, in _save_state_dict
    central_plan = distW.reduce_scatter("plan", local_step, global_step)
  File "/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/distributed/checkpoint/utils.py", line 217, in reduce_scatter
    result = self.scatter_object(all_results)
  File "/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/distributed/checkpoint/utils.py", line 162, in scatter_object
    dist.scatter_object_list(
  File "/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/distributed/c10d_logger.py", line 81, in wrapper
    return func(*args, **kwargs)
  File "/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/distributed/distributed_c10d.py", line 3787, in scatter_object_list
    scatter_object_output_list[0] = _tensor_to_object(
  File "/home/jenkins/.conda/envs/xpu_op_/lib/python3.10/site-packages/torch/distributed/distributed_c10d.py", line 3092, in _tensor_to_object
    return _unpickler(io.BytesIO(buf)).load()
_pickle.UnpicklingError: pickle data was truncated

To execute this test, run the following from the base repo dir:
    PYTORCH_TEST_WITH_SLOW=1 python test/distributed/checkpoint/test_checkpoint.py TestDistributedFailure.test_save_error_handling

This message can be suppressed by setting PYTORCH_PRINT_REPRO_ON_FAILURE=0</failure></testcase><testcase classname="test.distributed.checkpoint.test_checkpoint.TestDistributedFailure" name="test_save_error_handling_no_dist" time="4.115" /></testsuite></testsuites>